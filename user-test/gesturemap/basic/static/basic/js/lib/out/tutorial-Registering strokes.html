<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tutorial: Registering strokes | Docs</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="width: 0px; height: 0px">
        
            <a href="http://dipartimenti.unica.it/matematicaeinformatica/" rel="noopener noreferrer" target="_blank">
                <img src="https://www.unica.it/static/resources/static/img/logo_unica.svg" width="100%" height="100%">
            </a>
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">Docs</a></h1>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
        <ol class="lnb-tab">
            <li id="api-tab">
                <a href="#"><h4>API</h4></a>
            </li>
            <li id="examples-tab">
                <a href="#"><h4>Tutorials</h4></a>
            </li>
        </ol>
    
    <div class="lnb-examples hidden"><h3>Tutorials</h3><ul><li><a href="tutorial-Managing the grid map.html">Managing the grid map</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Managing the grid map_sub"></div></li><li><a href="tutorial-Recognizing gestures with Deictic.html">Recognizing gestures with Deictic</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Recognizing gestures with Deictic_sub"></div></li><li><a href="tutorial-Recognizing gestures with Finite State Machines.html">Recognizing gestures with Finite State Machines</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Recognizing gestures with Finite State Machines_sub"></div></li><li><a href="tutorial-Recognizing gestures with Machine Learning.html">Recognizing gestures with Machine Learning</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Recognizing gestures with Machine Learning_sub"></div></li><li><a href="tutorial-Registering strokes.html">Registering strokes</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Registering strokes_sub"></div></li><li><a href="tutorial-Using the Octopocus feedback.html">Using the Octopocus feedback</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Using the Octopocus feedback_sub"></div></li><li><a href="tutorial-Using the line feedback.html">Using the line feedback</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Using the line feedback_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="Grid.LineFeedback.html">LineFeedback</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Grid.LineFeedback_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Grid.LineFeedback.html#layer">layer</a></li><li><a href="Grid.LineFeedback.html#line">line</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Grid.LineFeedback.html#addPoint">addPoint</a></li><li><a href="Grid.LineFeedback.html#clearLine">clearLine</a></li><li><a href="Grid.LineFeedback.html#init">init</a></li></ul></div></li><li><a href="Grid.Octopocus.html">Octopocus</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Grid.Octopocus_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Grid.Octopocus.html#feedback">feedback</a></li><li><a href="Grid.Octopocus.html#feedforward">feedforward</a></li><li><a href="Grid.Octopocus.html#layer">layer</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Grid.Octopocus.html#clear">clear</a></li><li><a href="Grid.Octopocus.html#init">init</a></li><li><a href="Grid.Octopocus.html#start">start</a></li><li><a href="Grid.Octopocus.html#update">update</a></li></ul></div></li><li><a href="Grid.Scene.html">Scene</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Grid.Scene_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Grid.Scene.html#imgLayer">imgLayer</a></li><li><a href="Grid.Scene.html#layer">layer</a></li><li><a href="Grid.Scene.html#state">state</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Grid.Scene.html#clearCell">clearCell</a></li><li><a href="Grid.Scene.html#init">init</a></li><li><a href="Grid.Scene.html#setMonster">setMonster</a></li><li><a href="Grid.Scene.html#setTreasure">setTreasure</a></li></ul></div></li><li><a href="Input.AngleFSM.html">AngleFSM</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.AngleFSM_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Input.AngleFSM.html#state">state</a></li><li><a href="Input.AngleFSM.html#states">states</a></li><li><a href="Input.AngleFSM.html#tolerance">tolerance</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Input.AngleFSM.html#init">init</a></li><li><a href="Input.AngleFSM.html#push">push</a></li><li><a href="Input.AngleFSM.html#restart">restart</a></li></ul></div></li><li><a href="Input.Deictic.html">Deictic</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.Deictic_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Input.Deictic.html#eval">eval</a></li><li><a href="Input.Deictic.html#init">init</a></li><li><a href="Input.Deictic.html#recognisedGesture">recognisedGesture</a></li></ul></div></li><li><a href="Input.Event.html">Event</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.Event_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Input.Event.html#add">add</a></li><li><a href="Input.Event.html#remove">remove</a></li><li><a href="Input.Event.html#trigger">trigger</a></li></ul></div></li><li><a href="Input.MachineLearning.html">MachineLearning</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.MachineLearning_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Input.MachineLearning.html#eval">eval</a></li><li><a href="Input.MachineLearning.html#init">init</a></li><li><a href="Input.MachineLearning.html#recognisedGesture">recognisedGesture</a></li></ul></div></li><li><a href="Input.Point2D.html">Point2D</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.Point2D_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Input.Point2D.html#x">x</a></li><li><a href="Input.Point2D.html#y">y</a></li></ul></div></li><li><a href="Input.StrokeInput.html">StrokeInput</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.StrokeInput_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Input.StrokeInput.html#onStrokeBegin">onStrokeBegin</a></li><li><a href="Input.StrokeInput.html#onStrokeChange">onStrokeChange</a></li><li><a href="Input.StrokeInput.html#onStrokeEnd">onStrokeEnd</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Namespaces</h3><ul><li><a href="Grid.html">Grid</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Grid_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="Grid.html#~Feedforward">Feedforward</a></li><li><a href="Grid.html#~FeedforwardState">FeedforwardState</a></li></ul></div></li><li><a href="Input.html">Input</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="Input.html#~AngleFSMState">AngleFSMState</a></li><li><a href="Input.html#~DeicticEvaluation">DeicticEvaluation</a></li><li><a href="Input.html#~DeicticEvaluationPart">DeicticEvaluationPart</a></li><li><a href="Input.html#~DeicticGesture">DeicticGesture</a></li><li><a href="Input.html#~DollarSamples">DollarSamples</a></li><li><a href="Input.html#~DollarTraining">DollarTraining</a></li><li><a href="Input.html#~MLEvaluation">MLEvaluation</a></li><li><a href="Input.html#~StrokeChangeDescriptor">StrokeChangeDescriptor</a></li></ul></div></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    

<section>
    <header>
        

        <h2>Registering strokes</h2>
    </header>

    
        <article class="readme">
            <h1>Registering strokes</h1><p>In order to ease the gesture tracking and recognition, the class <a href="Input.StrokeInput.html">Input.StrokeInput</a> provides a unified API
for registering both mouse and touch strokes. </p>
<p>After creating an <a href="Input.StrokeInput.html">Input.StrokeInput</a> instance, it must be linked to the grid map canvas invoking the <code>init</code> 
function and passing the <code>layer</code> member of the <a href="Grid.Scene.html">Grid.Scene</a>.</p>
<pre class="prettyprint source"><code>var scene = new Grid.Scene();
scene.init();

// connects the stroke input manager to the grid map
var input = new Input.StrokeInput(scene.layer);</code></pre><p>Each <a href="Input.StrokeInput.html">Input.StrokeInput</a> instance provides three events (instances of the <a href="Input.Event.html">Input.Event</a> class) 
for tracking the user's strokes:</p>
<ul>
<li><code>onStrokeBegin</code> that notifies when a new stroke begins (e.g., mouse down or touch start);</li>
<li><code>onStrokeChange</code> that notifies when a stroke has changed (e.g., mouse or touch move);</li>
<li><code>onStrokeEnd</code> that notifies when a stroke is completed (e.g., mouse up or touch end).</li>
</ul>
<p>When the user performs a stroke, the <a href="Input.StrokeInput.html">Input.StrokeInput</a> raises first a <code>onStrokeBegin</code> event, the a sequence
of <code>onStrokeChange</code> events and finally a <code>onStrokeEnd</code>. If the user clicks or taps the cell without any movement,
the you will receive only a <code>onStrokeBegin</code> and a <code>onStrokeEnd</code> event. </p>
<p>Each event passes to the callback function an <code>event</code> object that in the <code>d</code> member contains information 
on the stroke evolution:</p>
<ul>
<li><code>event.d.X</code> and <code>event.d.Y</code> represent the position of the current stroke point (e.g., the current mouse or touch 
position), in the grid cell coordinates (min: 0, max: 200).</li>
<li><code>event.d.bX</code> and <code>event.d.bY</code> represent the coordinates of the top-left corner of the grid cell containing the 
stroke.</li>
<li><code>event.d.buffer</code> the set of point defining the current stroke. The <a href="Input.StrokeInput.html">Input.StrokeInput</a> object automatically
buffers the points at each update. The last point in the buffer is  (<code>event.d.X</code>, <code>event.d.Y</code>). The following are a 
set of relevant usage examples.</li>
</ul>
<h2>Reading the current point when the stroke begins</h2><pre class="prettyprint source"><code>input.onStrokeBegin.add(function(event){
     var currentX = event.d.x;
     var currentY = event.d.y;
});</code></pre><h2>Computing the difference on both axis at each stroke change</h2><pre class="prettyprint source"><code>input.onStrokeChange.add(function(event){
     // we read the previous point using the buffer,
     // the current point is the last one
     var previous = event.d.buffer[event.d.buffer.length - 2];
     var diffX = event.d.x - previous.x;
     var diffY = event.d.y - previous.y;
});</code></pre><h2>Set a monster in the current cell when the stroke ends</h2><pre class="prettyprint source"><code>nput.onStrokeEnd.add(function(event){
    // add the current stroke point coordinates to the top-left cell corner
    var x = event.d.x + event.d.bX;
    var y = event.d.y + event.d.bY;

    scene.setMonster(x,y);

});</code></pre>
        </article>
    
</section>



</div>

<footer>
    <img class="logo" src="https://www.unica.it/static/resources/static/img/logo_unica.svg" style="width: 0px; height: 0px">
    <div class="footer-text">Gesture UI Development Test</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        showLnbExamples();
    </script>

</body>
</html>