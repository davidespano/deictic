<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tutorial: Using the Octopocus feedback | Docs</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="width: 0px; height: 0px">
        
            <a href="http://dipartimenti.unica.it/matematicaeinformatica/" rel="noopener noreferrer" target="_blank">
                <img src="https://www.unica.it/static/resources/static/img/logo_unica.svg" width="100%" height="100%">
            </a>
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">Docs</a></h1>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
        <ol class="lnb-tab">
            <li id="api-tab">
                <a href="#"><h4>API</h4></a>
            </li>
            <li id="examples-tab">
                <a href="#"><h4>Tutorials</h4></a>
            </li>
        </ol>
    
    <div class="lnb-examples hidden"><h3>Tutorials</h3><ul><li><a href="tutorial-Managing the grid map.html">Managing the grid map</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Managing the grid map_sub"></div></li><li><a href="tutorial-Recognizing gestures with Deictic.html">Recognizing gestures with Deictic</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Recognizing gestures with Deictic_sub"></div></li><li><a href="tutorial-Recognizing gestures with Finite State Machines.html">Recognizing gestures with Finite State Machines</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Recognizing gestures with Finite State Machines_sub"></div></li><li><a href="tutorial-Recognizing gestures with Machine Learning.html">Recognizing gestures with Machine Learning</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Recognizing gestures with Machine Learning_sub"></div></li><li><a href="tutorial-Registering strokes.html">Registering strokes</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Registering strokes_sub"></div></li><li><a href="tutorial-Using the Octopocus feedback.html">Using the Octopocus feedback</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Using the Octopocus feedback_sub"></div></li><li><a href="tutorial-Using the line feedback.html">Using the line feedback</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Using the line feedback_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="Grid.LineFeedback.html">LineFeedback</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Grid.LineFeedback_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Grid.LineFeedback.html#layer">layer</a></li><li><a href="Grid.LineFeedback.html#line">line</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Grid.LineFeedback.html#addPoint">addPoint</a></li><li><a href="Grid.LineFeedback.html#clearLine">clearLine</a></li><li><a href="Grid.LineFeedback.html#init">init</a></li></ul></div></li><li><a href="Grid.Octopocus.html">Octopocus</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Grid.Octopocus_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Grid.Octopocus.html#feedback">feedback</a></li><li><a href="Grid.Octopocus.html#feedforward">feedforward</a></li><li><a href="Grid.Octopocus.html#layer">layer</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Grid.Octopocus.html#clear">clear</a></li><li><a href="Grid.Octopocus.html#init">init</a></li><li><a href="Grid.Octopocus.html#start">start</a></li><li><a href="Grid.Octopocus.html#update">update</a></li></ul></div></li><li><a href="Grid.Scene.html">Scene</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Grid.Scene_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Grid.Scene.html#imgLayer">imgLayer</a></li><li><a href="Grid.Scene.html#layer">layer</a></li><li><a href="Grid.Scene.html#state">state</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Grid.Scene.html#clearCell">clearCell</a></li><li><a href="Grid.Scene.html#init">init</a></li><li><a href="Grid.Scene.html#setMonster">setMonster</a></li><li><a href="Grid.Scene.html#setTreasure">setTreasure</a></li></ul></div></li><li><a href="Input.AngleFSM.html">AngleFSM</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.AngleFSM_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Input.AngleFSM.html#state">state</a></li><li><a href="Input.AngleFSM.html#states">states</a></li><li><a href="Input.AngleFSM.html#tolerance">tolerance</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Input.AngleFSM.html#init">init</a></li><li><a href="Input.AngleFSM.html#push">push</a></li><li><a href="Input.AngleFSM.html#restart">restart</a></li></ul></div></li><li><a href="Input.Deictic.html">Deictic</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.Deictic_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Input.Deictic.html#eval">eval</a></li><li><a href="Input.Deictic.html#init">init</a></li><li><a href="Input.Deictic.html#recognisedGesture">recognisedGesture</a></li></ul></div></li><li><a href="Input.Event.html">Event</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.Event_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Input.Event.html#add">add</a></li><li><a href="Input.Event.html#remove">remove</a></li><li><a href="Input.Event.html#trigger">trigger</a></li></ul></div></li><li><a href="Input.MachineLearning.html">MachineLearning</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.MachineLearning_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Input.MachineLearning.html#eval">eval</a></li><li><a href="Input.MachineLearning.html#init">init</a></li><li><a href="Input.MachineLearning.html#recognisedGesture">recognisedGesture</a></li></ul></div></li><li><a href="Input.Point2D.html">Point2D</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.Point2D_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Input.Point2D.html#x">x</a></li><li><a href="Input.Point2D.html#y">y</a></li></ul></div></li><li><a href="Input.StrokeInput.html">StrokeInput</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.StrokeInput_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Input.StrokeInput.html#onStrokeBegin">onStrokeBegin</a></li><li><a href="Input.StrokeInput.html#onStrokeChange">onStrokeChange</a></li><li><a href="Input.StrokeInput.html#onStrokeEnd">onStrokeEnd</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Namespaces</h3><ul><li><a href="Grid.html">Grid</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Grid_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="Grid.html#~Feedforward">Feedforward</a></li><li><a href="Grid.html#~FeedforwardState">FeedforwardState</a></li></ul></div></li><li><a href="Input.html">Input</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="Input.html#~AngleFSMState">AngleFSMState</a></li><li><a href="Input.html#~DeicticEvaluation">DeicticEvaluation</a></li><li><a href="Input.html#~DeicticEvaluationPart">DeicticEvaluationPart</a></li><li><a href="Input.html#~DeicticGesture">DeicticGesture</a></li><li><a href="Input.html#~DollarSamples">DollarSamples</a></li><li><a href="Input.html#~DollarTraining">DollarTraining</a></li><li><a href="Input.html#~MLEvaluation">MLEvaluation</a></li><li><a href="Input.html#~StrokeChangeDescriptor">StrokeChangeDescriptor</a></li></ul></div></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    

<section>
    <header>
        

        <h2>Using the Octopocus feedback</h2>
    </header>

    
        <article class="readme">
            <h1>Using the Octopocus feedback</h1><p>The Octopocus is a feedback representation for gestures that supports the user in visualizing
the part of the stroke s/he has already completed and in understanding how s/he can complete
it. The original version has been introduced in [1].</p>
<p>The <a href="Grid.Octopocus.html">Grid.Octopocus</a> class provides a simplified implementation of this feedback, which
visually appears as follows.</p>
<p><img src="./tutorials/img/4-1-feedback-1.png" alt="A sample grid map" style="width: 200px;"/>
<img src="./tutorials/img/4-1-feedback-2.png" alt="A sample grid map" style="width: 200px;"/>
<img src="./tutorials/img/4-1-feedback-3.png" alt="A sample grid map" style="width: 200px;"/>
<img src="./tutorials/img/4-1-feedback-4.png" alt="A sample grid map" style="width: 200px;"/>
<img src="./tutorials/img/4-1-feedback-5.png" alt="A sample grid map" style="width: 200px;"/></p>
<p>At the beginning of the stroke, it shows the available gestures, using different colours. 
At each update, the following information is encoded in the representation:</p>
<ul>
<li>The <strong>black line</strong> represents the part of the stroke the user has performed, similarly to the
<a href="Grid.LineFeedback.html">Grid.LineFeedback</a>.</li>
<li>The <strong>color opacity</strong> represents the similarity of the user's stroke with each gesture understood by
the interface. In the previous figure, after a few updates the system is pretty sure that the
user will end up performing a triangle (in red). The square (in green) in the last 
representation seems impossible to recognize, while the delete (in blue) has still some
chance.</li>
<li>The <strong>colored shapes</strong> represent the possible stroke continuations, as foreseen by the 
recognition algorithm. In the <a href="Grid.Octopocus.html">Grid.Octopocus</a> implementation, we simplified this
part considering only polyline gestures, so the algorithm should tell only which segment of
the polyline the user is currently performing. In the above example the red triangle loses
the colored sides when the user correctly draws them with the black line. </li>
</ul>
<p>For creating the Octopocus feedback you need to instantiate the <a href="Grid.Octopocus.html">Grid.Octopocus</a> class 
and to invoke the <code>init</code> method for connecting the object with the drawing <code>layer</code> of a 
<a href="Grid.Scene.html">Grid.Scene</a>. The object contains already the description of the gesture guidance
for the triangle, square and delete gestures. It is possible to change the guidance for
supporting other strokes, but how to do it is beyond the scope of this tutorial. </p>
<pre class="prettyprint source"><code>var scene = new Grid.Scene();
scene.init();
var feedback = new Grid.Octopocus();
feedback.init(scene.layer);</code></pre><p>The following section describe how to control the feedback visualization. </p>
<p>[1] Olivier Bau and Wendy E. Mackay. 2008. 
OctoPocus: a dynamic guide for learning gesture-based command sets. 
In Proceedings of UIST '08, ACM,  37-46.</p>
<h2>Start Method</h2><p>The <code>start</code>  the guidance underneath the current stroke position. It requires the same
event object passed by the <a href="Input.StrokeInput.html">Input.StrokeInput</a> notifications. Its effect is to show
all gesture guidance paths as equally likely. The figure below shows the execution effect.</p>
<p><img src="./tutorials/img/4-2-start-1.png" alt="A sample grid map" style="width: 200px;"/>
<code>feedback.start(event)</code>
<img src="./tutorials/img/4-1-feedback-1.png" alt="A sample grid map" style="width: 200px;"/></p>
<pre class="prettyprint source"><code>// It receives the start stroke event from a Input.StrokeInput instance named
// input and  it passes it to a Scene.Octopocus instance named feedback.
// The Input.StrokeInput instance enhances the Konva.Event
// descriptor with the d field automatically.
input.onStrokeBegin.add(function (event) {
    feedback.start(event);
});</code></pre><h2>Update Method</h2><p>The <code>update</code> method changes the current state of the visual guidance. It requires the same
event object passed by the <a href="Input.StrokeInput.html">Input.StrokeInput</a> notifications and a <a href="Grid.html#~FeedforwardState">Grid~FeedforwardState</a> object, which
describes the recognition algorithm interpretation of a partially executed stroke. </p>
<p>Such description is a simple array, having an object entry for each gesture that can be recognized by the application.
Each entry contains the following properties:</p>
<ul>
<li><code>name</code> the name of a gesture</li>
<li><code>part</code> the index of the segment in the gesture definition polyline that the user is currently executing (as estimated
by the recognition algorithm). The segments in the polyline definition are ordered by design: in our triangle sample 
the user  must start from the left side, otherwise the system should not recognize the gesture. </li>
<li><code>probability</code> the confidence of the recognition algorithm in the estimation</li>
</ul>
<p>The figures below show some sample updates.</p>
<p>1) <img src="./tutorials/img/4-1-feedback-2.png" alt="A sample grid map" style="width: 200px;"/>
2) <img src="./tutorials/img/4-1-feedback-4.png" alt="A sample grid map" style="width: 200px;"/>
3) <img src="./tutorials/img/4-1-feedback-5.png" alt="A sample grid map" style="width: 200px;"/></p>
<pre class="prettyprint source"><code>// figure 1)
var upd1 = [
     {name: &quot;triangle&quot;, part: 0, probability: 0.8334},
     {name: &quot;square&quot;, part: 0, probability: 0.651},
     {name: &quot;delete&quot;, part: 1, probability: 0.5203}
];
feedback.update(event, upd1);

// figure 2)
var upd2 = [
     {name: &quot;triangle&quot;, part: 1, probability: 0.8229},
     {name: &quot;square&quot;, part: 2, probability: 0.4448},
     {name: &quot;delete&quot;, part: 1, probability: 0.4497}
];
feedback.update(event, upd2);

// figure 3)
var upd3 = [
     {name: &quot;triangle&quot;, part: 2, probability: 0.8229},
     {name: &quot;square&quot;, part: 2, probability: 0.022},
     {name: &quot;delete&quot;, part: 1, probability: 0.33}
];
feedback.update(event, upd3);</code></pre><h2>Clear method</h2><p>The clear method simply hides the visual feedback and resets it to its initial state. </p>
<pre class="prettyprint source"><code>feedback.clear();</code></pre><h2>Combining StrokeInput and Octopocus</h2><p>The schema for composing a <a href="Input.StrokeInput.html">Input.StrokeInput</a> and a <a href="Grid.Octopocus.html">Grid.Octopocus</a> instance is simple:</p>
<ul>
<li>The <code>onStrokeBegin</code>  event notification corresponds to the <code>start</code> method</li>
<li>The <code>onStrokeChange</code> event notification corresponds to the  <code>update</code> method</li>
<li>The <code>onStrokeEnd</code>  event notification corresponds to the <code>clear</code> method</li>
</ul>
<pre class="prettyprint source"><code>var input = new Input.StrokeInput(scene.layer);

input.onStrokeBegin.add(function (event) {
    feedback.start(event);
});


input.onStrokeChange.add(function (event) {
  var descr = ... // populate it through the recognition algorithm
  feedback.update(event, descr);
});

input.onStrokeEnd.add(function (event) {
    feedback.clear();
});</code></pre>
        </article>
    
</section>



</div>

<footer>
    <img class="logo" src="https://www.unica.it/static/resources/static/img/logo_unica.svg" style="width: 0px; height: 0px">
    <div class="footer-text">Gesture UI Development Test</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        showLnbExamples();
    </script>

</body>
</html>