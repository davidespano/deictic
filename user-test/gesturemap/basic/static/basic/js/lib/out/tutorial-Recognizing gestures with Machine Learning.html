<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tutorial: Recognizing gestures with Machine Learning | Docs</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/tui-doc.css">

    
</head>
<body>
<nav class="lnb" id="lnb">
    <div class="logo" style="width: 0px; height: 0px">
        
            <a href="http://dipartimenti.unica.it/matematicaeinformatica/" rel="noopener noreferrer" target="_blank">
                <img src="https://www.unica.it/static/resources/static/img/logo_unica.svg" width="100%" height="100%">
            </a>
        
    </div>
    <div class="title">
        <h1><a href="index.html" class="link">Docs</a></h1>
        
    </div>
    <div class="search-container" id="search-container">
        <input type="text" placeholder="Search">
        <ul></ul>
    </div>
    
        <ol class="lnb-tab">
            <li id="api-tab">
                <a href="#"><h4>API</h4></a>
            </li>
            <li id="examples-tab">
                <a href="#"><h4>Tutorials</h4></a>
            </li>
        </ol>
    
    <div class="lnb-examples hidden"><h3>Tutorials</h3><ul><li><a href="tutorial-Managing the grid map.html">Managing the grid map</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Managing the grid map_sub"></div></li><li><a href="tutorial-Recognizing gestures with Deictic.html">Recognizing gestures with Deictic</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Recognizing gestures with Deictic_sub"></div></li><li><a href="tutorial-Recognizing gestures with Finite State Machines.html">Recognizing gestures with Finite State Machines</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Recognizing gestures with Finite State Machines_sub"></div></li><li><a href="tutorial-Recognizing gestures with Machine Learning.html">Recognizing gestures with Machine Learning</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Recognizing gestures with Machine Learning_sub"></div></li><li><a href="tutorial-Registering strokes.html">Registering strokes</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Registering strokes_sub"></div></li><li><a href="tutorial-Using the Octopocus feedback.html">Using the Octopocus feedback</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Using the Octopocus feedback_sub"></div></li><li><a href="tutorial-Using the line feedback.html">Using the line feedback</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Using the line feedback_sub"></div></li></ul></div><div class="lnb-api hidden"><h3>Classes</h3><ul><li><a href="Grid.LineFeedback.html">LineFeedback</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Grid.LineFeedback_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Grid.LineFeedback.html#layer">layer</a></li><li><a href="Grid.LineFeedback.html#line">line</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Grid.LineFeedback.html#addPoint">addPoint</a></li><li><a href="Grid.LineFeedback.html#clearLine">clearLine</a></li><li><a href="Grid.LineFeedback.html#init">init</a></li></ul></div></li><li><a href="Grid.Octopocus.html">Octopocus</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Grid.Octopocus_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Grid.Octopocus.html#feedback">feedback</a></li><li><a href="Grid.Octopocus.html#feedforward">feedforward</a></li><li><a href="Grid.Octopocus.html#layer">layer</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Grid.Octopocus.html#clear">clear</a></li><li><a href="Grid.Octopocus.html#init">init</a></li><li><a href="Grid.Octopocus.html#start">start</a></li><li><a href="Grid.Octopocus.html#update">update</a></li></ul></div></li><li><a href="Grid.Scene.html">Scene</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Grid.Scene_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Grid.Scene.html#imgLayer">imgLayer</a></li><li><a href="Grid.Scene.html#layer">layer</a></li><li><a href="Grid.Scene.html#state">state</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Grid.Scene.html#clearCell">clearCell</a></li><li><a href="Grid.Scene.html#init">init</a></li><li><a href="Grid.Scene.html#setMonster">setMonster</a></li><li><a href="Grid.Scene.html#setTreasure">setTreasure</a></li></ul></div></li><li><a href="Input.AngleFSM.html">AngleFSM</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.AngleFSM_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Input.AngleFSM.html#state">state</a></li><li><a href="Input.AngleFSM.html#states">states</a></li><li><a href="Input.AngleFSM.html#tolerance">tolerance</a></li></ul><div class="member-type">Methods</div><ul class="inner"><li><a href="Input.AngleFSM.html#init">init</a></li><li><a href="Input.AngleFSM.html#push">push</a></li><li><a href="Input.AngleFSM.html#restart">restart</a></li></ul></div></li><li><a href="Input.Deictic.html">Deictic</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.Deictic_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Input.Deictic.html#eval">eval</a></li><li><a href="Input.Deictic.html#init">init</a></li><li><a href="Input.Deictic.html#recognisedGesture">recognisedGesture</a></li></ul></div></li><li><a href="Input.Event.html">Event</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.Event_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Input.Event.html#add">add</a></li><li><a href="Input.Event.html#remove">remove</a></li><li><a href="Input.Event.html#trigger">trigger</a></li></ul></div></li><li><a href="Input.MachineLearning.html">MachineLearning</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.MachineLearning_sub"><div class="member-type">Methods</div><ul class="inner"><li><a href="Input.MachineLearning.html#eval">eval</a></li><li><a href="Input.MachineLearning.html#init">init</a></li><li><a href="Input.MachineLearning.html#recognisedGesture">recognisedGesture</a></li></ul></div></li><li><a href="Input.Point2D.html">Point2D</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.Point2D_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Input.Point2D.html#x">x</a></li><li><a href="Input.Point2D.html#y">y</a></li></ul></div></li><li><a href="Input.StrokeInput.html">StrokeInput</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input.StrokeInput_sub"><div class="member-type">Members</div><ul class="inner"><li><a href="Input.StrokeInput.html#onStrokeBegin">onStrokeBegin</a></li><li><a href="Input.StrokeInput.html#onStrokeChange">onStrokeChange</a></li><li><a href="Input.StrokeInput.html#onStrokeEnd">onStrokeEnd</a></li></ul></div></li></ul></div><div class="lnb-api hidden"><h3>Namespaces</h3><ul><li><a href="Grid.html">Grid</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Grid_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="Grid.html#~Feedforward">Feedforward</a></li><li><a href="Grid.html#~FeedforwardState">FeedforwardState</a></li></ul></div></li><li><a href="Input.html">Input</a><button type="button" class="hidden toggle-subnav btn btn-link">  <span class="glyphicon glyphicon-plus"></span></button><div class="hidden" id="Input_sub"><div class="member-type">Typedef</div><ul class="inner"><li><a href="Input.html#~AngleFSMState">AngleFSMState</a></li><li><a href="Input.html#~DeicticEvaluation">DeicticEvaluation</a></li><li><a href="Input.html#~DeicticEvaluationPart">DeicticEvaluationPart</a></li><li><a href="Input.html#~DeicticGesture">DeicticGesture</a></li><li><a href="Input.html#~DollarSamples">DollarSamples</a></li><li><a href="Input.html#~DollarTraining">DollarTraining</a></li><li><a href="Input.html#~MLEvaluation">MLEvaluation</a></li><li><a href="Input.html#~StrokeChangeDescriptor">StrokeChangeDescriptor</a></li></ul></div></li></ul></div>
</nav>
<div id="resizer"></div>

<div class="main" id="main">
    

<section>
    <header>
        

        <h2>Recognizing gestures with Machine Learning</h2>
    </header>

    
        <article class="readme">
            <h1>Recognizing gestures with Machine Learning</h1><p>In this test, we consider the <em>1$ gesture recognizer</em> [1] as a representative of the Machine Learning techniques for 
gesture recognition. They all require a set of labelled examples for each one of the different gestures 
we need to recognize and they automatically learn to recognize them. </p>
<p>The class <a href="Input.MachineLearning.html">Input.MachineLearning</a> provides a simplified API for recognizing gestures using a classifier. We 
need first to train it with gesture samples. After that, we can use the dataset for the recognition.</p>
<p>[1] Jacob O. Wobbrock, Andrew D. Wilson, and Yang Li. 2007. Gestures without libraries, toolkits or training: a 
$1 recognizer for user interface prototypes. In Proceedings of UIST 2007, ACM, 159-168.
<a href="https://doi.org/10.1145/1294211.1294238%20">DOI</a>.</p>
<h2>Training step</h2><p>The training step consists in providing different executions of all the considered gestures to the classifier. 
In general, the gesture sample should be performed by different people, in order to have a good representation of
their inter-class variability. In this step we will simplify this step, and you will perform 3 samples of each 
considered gesture, using the <a href="http://localhost:8000/basic/training" target="_blank">
dedicated training interface</a>.</p>
<p><img src="./tutorials/img/6-1-training.png" alt="A sample grid map" style="width: 300px;"/> </p>
<p>For providing a sample, you need to draw the stroke in the canvas. After that, you need to write the gesture label
in the text field and press the <code>Add</code> button. Repeat the operation 3 times for each gesture 
(at least triangle, square, delete).</p>
<p>Once you have provided all the samples, you can collect the training dataset pressing the <code>Download</code> button. 
The interface will dump a Javascript array, that you can copy and paste in the <code>samples</code> global variable 
(script <code>samples.js</code>). <strong>This step is required for compatibility issues with the original 1$ recognition library</strong>.</p>
<p>For initializing the <a href="Input.MachineLearning.html">Input.MachineLearning</a> class, the <code>samples</code> variable must be assigned before calling 
the <code>init</code> method. </p>
<pre class="prettyprint source"><code>var machineLearning = new Input.MachineLearning();
// after this statement the MachineLearning object is ready to use.
// The called function  reads internally the samples variable.
machineLearning.init()</code></pre><h2>Recognition step</h2><p>Given the stroke point sequence, the classifier associates a probability to each gesture class defined in the training
set. The <code>eval</code> method returns such information. The following example writes the probability of the V gesture when
the whole stroke is available. </p>
<pre class="prettyprint source"><code>var scene = new Grid.Scene();
scene.init();
var input = new Input.StrokeInput(scene.layer);

input.onStrokeEnd.add(function (event) {
    var result = machineLearning.eval(event.d.buffer);

    // check the probability of the V gesture
    var prob = 0;
    for(var i in result){
         var gesture = result[i];
         if(gesture.name === 'V'){
             console.log(gesture.probability);
         }
    }
});</code></pre><p>In many cases, we consider as the recognized gesture the one having the higher probability. In addition, we threshold
its probability value in order to avoid low values. For instance, if the maximum probability is 0.25 we consider the
not recognized. The <a href="Input.MachineLearning.html">Input.MachineLearning</a> object provides the <code>recognizedGesture</code> utility method for searching 
the maximum probability and threshold it. The method takes as input the object returned by <code>eval</code>.</p>
<pre class="prettyprint source"><code>// get the most likely gesture at the end of the stroke performance.
input.onStrokeEnd.add(function (event) {
    var gesture = machineLearning.recognisedGesture(machineLearning.eval(event.d.buffer), 0.70);
});</code></pre>
        </article>
    
</section>



</div>

<footer>
    <img class="logo" src="https://www.unica.it/static/resources/static/img/logo_unica.svg" style="width: 0px; height: 0px">
    <div class="footer-text">Gesture UI Development Test</div>
</footer>
<script>prettyPrint();</script>
<script src="scripts/jquery.min.js"></script>
<script src="scripts/tui-doc.js"></script>
<script src="scripts/linenumber.js"></script>

    <script>
        showLnbExamples();
    </script>

</body>
</html>